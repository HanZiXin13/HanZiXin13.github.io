{"title":"【内网穿透】FRP搭建内外穿透","uid":"debc4d6563791bdbea268a12e8990d21","slug":"【内网穿透】从零开始搭建FRP服务","date":"2022-07-07T12:35:01.000Z","updated":"2022-07-07T12:36:15.668Z","comments":true,"path":"api/articles/【内网穿透】从零开始搭建FRP服务.json","keywords":null,"cover":[],"content":"<h2 id=\"FRP搭建内外穿透\"><a href=\"#FRP搭建内外穿透\" class=\"headerlink\" title=\"FRP搭建内外穿透\"></a>FRP搭建内外穿透</h2><h3 id=\"1-FRP简单介绍\"><a href=\"#1-FRP简单介绍\" class=\"headerlink\" title=\"1. FRP简单介绍\"></a>1. FRP简单介绍</h3><blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>frp is a fast reverse proxy to help you expose a local server behind a NAT or firewall to the Internet. As of now, it supports TCP and UDP, as well as HTTP and HTTPS protocols, where requests can be forwarded to internal services by domain name.</p></blockquote>\n<p>frp是一种快速反向代理，可帮助您将NAT或防火墙后面的本地服务器暴露到Internet。目前，它支持TCP和UDP，以及HTTP和HTTPS协议，在这些协议中，请求可以通过域名转发到内部服务。</p>\n<h3 id=\"2-准备工作\"><a href=\"#2-准备工作\" class=\"headerlink\" title=\"2. 准备工作\"></a>2. 准备工作</h3><ul>\n<li>一台有公网ip的服务器（最好是服务器）</li>\n<li>想要公开的内网主机</li>\n<li>FRP下载，包括服务端和客户端<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p><a href=\"https://github.com/fatedier/frp/releases\">frp github下载链接</a></p></blockquote>\n</li>\n</ul>\n<h3 id=\"3-FRP配置\"><a href=\"#3-FRP配置\" class=\"headerlink\" title=\"3. FRP配置\"></a>3. FRP配置</h3><ul>\n<li><h4 id=\"服务端\"><a href=\"#服务端\" class=\"headerlink\" title=\"服务端\"></a>服务端</h4><p>下载好源文件后，带frps（server）的就是服务端文件。这里我用window的文件做示例</p>\n<p><img src=\"https://s2.loli.net/2022/07/07/vidu7XWATkDHfaC.png\" alt=\"856707a7c6594b1e767685d9347ac86c.png\"></p>\n<p>打开配置文件frps.ini，如果不配置使用默认的也可以</p>\n<pre class=\"line-numbers language-ini\" data-language=\"ini\"><code class=\"language-ini\">[common]\n# frp 服务端端口（必须，客户端和它连接的端口）\nbind_port &#x3D; 7000\n\n# 仪表盘端口，只有设置了才能使用仪表盘\ndashboard_port &#x3D; 7500</code></pre>\n\n<p>启动frps<code>./frps -c frps.ini</code>（这里是前台运行，需要后台运行请自行百度）</p>\n<p>启动正常会提示<code>frps started successfully</code></p>\n<p>访问：ip:7500查看仪表盘，如果可以访问就没问题了。</p>\n</li>\n<li><h4 id=\"客户端\"><a href=\"#客户端\" class=\"headerlink\" title=\"客户端\"></a>客户端</h4><p>本地配置修改类似服务端，只需要修改 frpc.ini 文件即可，参考：</p>\n<pre class=\"line-numbers language-ini\" data-language=\"ini\"><code class=\"language-ini\">[common]\n# 服务端连接信息\nserver_addr &#x3D; 101.43.9.127\nserver_port &#x3D; 7000\n\n[web]\n# 连接类型\ntype &#x3D; tcp\t\n# 本地ip\t\t\nlocal_ip &#x3D; 127.0.0.1\n# 本地转发的端口\t\t\nlocal_port &#x3D; 25565\t\n# 远程访问的端口\nremote_port &#x3D; 7001\t</code></pre>\n\n<p>配置完成后使用 cmd 或者 powershell cd进文件夹执行 <code>./frpc -c frpc.ini</code></p>\n<p>成功了以后服务端会提示</p>\n<p><img src=\"https://s2.loli.net/2022/07/07/CnsxOeyo6McB2DK.png\" alt=\"baab211e0a871b8572454514f9608614.png\"></p>\n</li>\n</ul>\n<h3 id=\"4-结束\"><a href=\"#4-结束\" class=\"headerlink\" title=\"4. 结束\"></a>4. 结束</h3><p>恭喜你，现在可以开心的内网穿透了，注：内网穿透最好是在自己家玩，在公司等不要随便玩哦。</p>\n","feature":true,"text":"FRP搭建内外穿透1. FRP简单介绍 frp is a fast reverse proxy to help you expose a local server behind a NAT or firewall to the Internet. As of now, it su...","link":"","photos":[],"count_time":{"symbolsCount":"1.1k","symbolsTime":"1 mins."},"categories":[],"tags":[{"name":"Linux","slug":"Linux","count":1,"path":"api/tags/Linux.json"},{"name":"FRP","slug":"FRP","count":1,"path":"api/tags/FRP.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#FRP%E6%90%AD%E5%BB%BA%E5%86%85%E5%A4%96%E7%A9%BF%E9%80%8F\"><span class=\"toc-text\">FRP搭建内外穿透</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#1-FRP%E7%AE%80%E5%8D%95%E4%BB%8B%E7%BB%8D\"><span class=\"toc-text\">1. FRP简单介绍</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#2-%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C\"><span class=\"toc-text\">2. 准备工作</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#3-FRP%E9%85%8D%E7%BD%AE\"><span class=\"toc-text\">3. FRP配置</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%9C%8D%E5%8A%A1%E7%AB%AF\"><span class=\"toc-text\">服务端</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E5%AE%A2%E6%88%B7%E7%AB%AF\"><span class=\"toc-text\">客户端</span></a></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#4-%E7%BB%93%E6%9D%9F\"><span class=\"toc-text\">4. 结束</span></a></li></ol></li></ol>","author":{"name":"Xin_Chen","slug":"xin_chen","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"前方净空，浮标已亮，准许跃迁<br/>愿诸君武运昌盛，燃尽星空","socials":{"github":"https://github.com/hanzixin13","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{},"next_post":{"title":"【SpringBoot】自定义外部配置文件读取","uid":"c4c0028f53dfa8eb1982c4248f9ab94a","slug":"【SpringBoot】自定义外部配置文件读取","date":"2022-05-27T07:53:01.000Z","updated":"2022-05-27T09:18:46.205Z","comments":true,"path":"api/articles/【SpringBoot】自定义外部配置文件读取.json","keywords":null,"cover":"https://img.zcool.cn/community/0189d45996dc5500000021290a96b8.jpg@1280w_1l_2o_100sh.jpg","text":"记SpringBoot读取配置文件的坑（自定义元数据）使用的注解@ConfigurationProperties，@ConditionalOnProperty在一次日常写代码中，按着度娘写的代码去读取配置文件中的数据，发现 @ConditionalOnProperty 这个注解总...","link":"","photos":[],"count_time":{"symbolsCount":"6.4k","symbolsTime":"6 mins."},"categories":[],"tags":[{"name":"SpringBoot","slug":"SpringBoot","count":1,"path":"api/tags/SpringBoot.json"},{"name":"Java","slug":"Java","count":1,"path":"api/tags/Java.json"}],"author":{"name":"Xin_Chen","slug":"xin_chen","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"前方净空，浮标已亮，准许跃迁<br/>愿诸君武运昌盛，燃尽星空","socials":{"github":"https://github.com/hanzixin13","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"feature":true}}